# Spring Boot 应用配置
replicaCount: 3

image:
  repository: pengchaoma/springboot-todo-app
  pullPolicy: IfNotPresent
  tag: "latest"

imagePullSecrets: []
nameOverride: ""
fullnameOverride: ""

service:
  type: ClusterIP
  port: 8080
  targetPort: 8080

ingress:
  enabled: false
  className: ""
  annotations: {}
  hosts:
    - host: todo-app.local
      paths:
        - path: /
          pathType: Prefix
  tls: []

resources:
  limits:
    memory: 512Mi
    cpu: 500m
  requests:
    memory: 256Mi
    cpu: 250m

nodeSelector: {}
tolerations: []
affinity: {}

# 应用配置
app:
  name: "spring-todo-app"
  port: 8080
  database:
    host: "{{ .Release.Name }}-mysql"
    port: 3306
    name: "todo_db"
    username: "todo_user"
    password: "{{ .Values.mysql.auth.password }}"

# MySQL Chart 配置
mysql:
  enabled: true
  architecture: standalone
  
  primary:
    name: primary
    replicaCount: 1
    persistence:
      enabled: true
      size: 8Gi
      storageClass: "standard"
    resources:
      requests:
        memory: 256Mi
        cpu: 250m
      limits:
        memory: 512Mi
        cpu: 500m
  
  image:
    registry: docker.io
    repository: mysql
    tag: "8.0"
    pullPolicy: IfNotPresent
  
  auth:
    database: "todo_db"
    username: "todo_user"
    password: "todo_password"
    rootPassword: "root_password"
    existingSecret: ""
  
  service:
    enabled: true
    type: ClusterIP
    port: 3306
  
  initdbScriptsConfigMap: ""
  initdbScriptsSecret: ""
  
  extraEnvVars: []
  extraEnvVarsCM: ""
  extraEnvVarsSecret: ""